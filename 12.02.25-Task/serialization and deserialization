package Serialization;

import java.io.*;

public class Employee implements Serializable {
    int empno;
    String empname;
    transient String email;

    Employee(int empno, String empname, String email) {
        this.empno = empno;
        this.empname = empname;
        this.email = email;
    }

    public void serialize(Employee e1) {
        try {
            //Creating the object

            //Creating stream and writing the object
            FileOutputStream fout = new FileOutputStream("f.txt");
            ObjectOutputStream out = new ObjectOutputStream(fout);
            out.writeObject(e1);
            out.flush();
            //closing the stream
            out.close();
            System.out.println("success");
        } catch (Exception e) {
            System.out.println(e);
        }
    }
    public Employee deserialize() {  // Remove e1 parameter
        Employee e = null;
        try {
            ObjectInputStream in = new ObjectInputStream(new FileInputStream("f.txt"));
            e = (Employee) in.readObject(); // Corrected Student â†’ Employee
            in.close();
        } catch (Exception e1) {
            System.out.println(e1);
        }
        return e; // Return deserialized object
    }
}
    


    

 class empmain {
    public static void main(String[] args) {
        Employee e1=new Employee(187,"priya","dharshiniragavan152gmail.com");
        e1.serialize(e1);
        e1.deserialize();
    }
}

